{"version":3,"sources":["../js/feedback_form.js"],"names":["feedbackForm","document","getElementById","feedbackName","querySelector","feedbackSeat","feedbackReview","FEEDBACK_ERROR_CLASS","FEEDBACK_FOCUS_CLASS","initializeFeedbackField","feedbackMean","fInput","fErrorMsg","fRemError","classList","remove","innerText","fRemFocus","value","addEventListener","add","focus","getValue","setError","fError","feedbackField1","feedbackField2","feedbackFields","event","preventDefault","forEach","el","feedbackValue","fData","name","review","seat","fUrl","URL","search","URLSearchParams","toString","fetch"],"mappings":"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","sourcesContent":["const feedbackForm=document.getElementById('feedback-form');\r\nconst feedbackName=document.querySelector('.form__input');\r\nconst feedbackSeat=document.querySelector('.form__feedback-seat');\r\nconst feedbackReview=document.querySelector('.form__textarea');\r\n\r\nconst FEEDBACK_ERROR_CLASS=('feedback__error');\r\nconst FEEDBACK_FOCUS_CLASS=('feedback__focus');\r\n\r\n\r\nfunction initializeFeedbackField(feedbackMean){\r\n    const fInput=feedbackMean.querySelector('.feedbacks');\r\n    const fErrorMsg=feedbackMean.querySelector('.form__error-msg');\r\n \r\n    function fRemError(){\r\n        feedbackMean.classList.remove(FEEDBACK_ERROR_CLASS);\r\n        fErrorMsg.innerText='';\r\n    };\r\n    fRemError();\r\n    function fRemFocus(){\r\n        feedbackMean.classList.remove(FEEDBACK_FOCUS_CLASS);\r\n        fInput.value='';\r\n    };\r\n\r\n    fInput.addEventListener('focus',function(){\r\n        feedbackMean.classList.add(FEEDBACK_FOCUS_CLASS);\r\n        \r\n    });\r\n    fInput.addEventListener('input',function(){\r\n        fRemError();\r\n    });\r\n    fInput.addEventListener('blur',function(){\r\n        if(!fInput.value){\r\n            fRemFocus();\r\n        };\r\n    });\r\n\r\n    return{\r\n        focus(){\r\n            fInput.focus() \r\n        },\r\n        getValue(){\r\n            return fInput.value\r\n        },\r\n        setError(fError){\r\n            fErrorMsg.innerText=fError;\r\n            feedbackMean.classList.add(FEEDBACK_ERROR_CLASS);\r\n        },\r\n    };\r\n};\r\n\r\nconst feedbackField1= initializeFeedbackField(feedbackName);\r\nconst feedbackField2= initializeFeedbackField(feedbackReview);\r\nconst feedbackFields=[feedbackField1,feedbackField2];\r\n\r\nfeedbackForm.addEventListener('submit', function(event){\r\n    event.preventDefault();\r\n    feedbackFields.forEach(el=>{\r\n        const feedbackValue=el.getValue();\r\n\r\n        if (!feedbackValue){\r\n           el.setError('не заполнено');\r\n           el.focus();\r\n           return;\r\n        }\r\n    });\r\n\r\n    if(feedbackSeat.value===\"none\"){\r\n        feedbackSeat.classList.add(FEEDBACK_ERROR_CLASS);\r\n        return;\r\n    }\r\n    const fData ={\r\n        name:feedbackName.value,\r\n        review:feedbackReview.value,\r\n        seat:feedbackSeat.value,\r\n    };\r\n    const fUrl=new URL('http://inno-ijl.ru/multystub/stc-21-03/feedback');\r\n    fUrl.search=new URLSearchParams(fData).toString();\r\n\r\n    fetch(fUrl.toString());\r\n});\r\n\r\n\r\n\r\n"],"file":"feedback_form.js"}